<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Calculadora</title>
        <script>
        let atual = 0;
        let op1, operacao;
        let temPonto = false; 

        window.onload = inicio;

        function inicio() {
            
            let visor = document.getElementById('visor');
            visor.value = atual; 

            let btnNove = document.getElementById('botaoNove');
            btnNove.addEventListener('click', fnove);

            let btnOito = document.getElementById('botaoOito');
            btnOito.addEventListener('click', foito);

            let btnSete = document.getElementById('botaoSete');
            btnSete.addEventListener('click', fsete);

            let btnSeis = document.getElementById('botaoSeis');
            btnSeis.addEventListener('click', fseis);

            let btnCinco = document.getElementById('botaoCinco');
            btnCinco.addEventListener('click', fcinco);

            let btnQuatro = document.getElementById('botaoQuatro');
            btnQuatro.addEventListener('click', fquatro);

            let btnTres = document.getElementById('botaoTres');
            btnTres.addEventListener('click', ftres);

            let btnDois = document.getElementById('botaoDois');
            btnDois.addEventListener('click', fdois);

            let btnUm = document.getElementById('botaoUm');
            btnUm.addEventListener('click', fum);

            let btnZero = document.getElementById('botaoZero');
            btnZero.addEventListener('click', fzero);

            let btnSoma = document.getElementById('botaoSoma');
            btnSoma.addEventListener('click', fsoma);

            let btnSub = document.getElementById('botaoSub');
            btnSub.addEventListener('click', fsub);

            let btnMult = document.getElementById('botaoMult');
            btnMult.addEventListener('click', fmult);

            let btnIgual = document.getElementById('botaoIgual');
            btnIgual.addEventListener('click', figual);

            let btnDiv = document.getElementById('botaoDiv');
            btnDiv.addEventListener('click', fdiv);

            let btnPonto = document.getElementById('botaoPonto');
            btnPonto.addEventListener('click', fponto);
        }

        function fnove() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '9';
            } else if (temPonto) {
                 visor.value += '9';
            } else {
                visor.value += '9';
            }
            atual = parseFloat(visor.value); 
        }

        function foito() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '8';
            } else if (temPonto) {
                 visor.value += '8';
            } else {
                visor.value += '8';
            }
            atual = parseFloat(visor.value);
        }

        function fsete() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '7';
            } else if (temPonto) {
                 visor.value += '7';
            } else {
                visor.value += '7';
            }
            atual = parseFloat(visor.value);
        }

        function fseis() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '6';
            } else if (temPonto) {
                 visor.value += '6';
            } else {
                visor.value += '6';
            }
            atual = parseFloat(visor.value);
        }

        function fcinco() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '5';
            } else if (temPonto) {
                 visor.value += '5';
            } else {
                visor.value += '5';
            }
            atual = parseFloat(visor.value);
        }

        function fquatro() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '4';
            } else if (temPonto) {
                 visor.value += '4';
            } else {
                visor.value += '4';
            }
            atual = parseFloat(visor.value);
        }

        function ftres() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '3';
            } else if (temPonto) {
                 visor.value += '3';
            } else {
                visor.value += '3';
            }
            atual = parseFloat(visor.value);
        }

        function fdois() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '2';
            } else if (temPonto) {
                 visor.value += '2';
            } else {
                visor.value += '2';
            }
            atual = parseFloat(visor.value);
        }

        function fum() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) {
                visor.value = '1';
            } else if (temPonto) {
                 visor.value += '1';
            } else {
                visor.value += '1';
            }
            atual = parseFloat(visor.value);
        }

        function fzero() {
            let visor = document.getElementById('visor');
            if( visor.value == '0' && !temPonto) { 
                visor.value = '0';
            } else if (temPonto) { 
                visor.value += '0';
            }
            else { 
                visor.value += '0';
            }
            atual = parseFloat(visor.value);
        }

        function fsoma() {
            let visor = document.getElementById('visor');
            if( op1 == undefined ) {
                op1 = parseFloat(visor.value); 
                operacao = '+';
                visor.value = '0'; 
                temPonto = false; 
            }
        }

        function fsub() {
            let visor = document.getElementById('visor');
            if( op1 == undefined ) {
                op1 = parseFloat(visor.value);
                operacao = '-';
                visor.value = '0';
                temPonto = false;
            }
        }

        function fmult() {
            let visor = document.getElementById('visor');
            if( op1 == undefined ) {
                op1 = parseFloat(visor.value);
                operacao = 'x';
                visor.value = '0';
                temPonto = false;
            }
        }

        function fdiv() {
            let visor = document.getElementById('visor');
            if( op1 == undefined ) {
                op1 = parseFloat(visor.value);
                operacao = '/';
                visor.value = '0';
                temPonto = false;
            }
        }

        function fponto() {
            let visor = document.getElementById('visor');
            if (!temPonto) {
                visor.value += '.';
                temPonto = true;
            }
        }

        function figual() {
            let visor = document.getElementById('visor');
            if (op1 != undefined && operacao != undefined) {
                let valorAtual = parseFloat(visor.value); 
                let resultado;

                switch (operacao) {
                    case '+':
                        resultado = op1 + valorAtual;
                        break;
                    case '-':
                        resultado = op1 - valorAtual;
                        break;
                    case 'x':
                        resultado = op1 * valorAtual;
                        break;
                    case '/':
                        if (valorAtual != 0) {
                            resultado = op1 / valorAtual;
                        } else {
                            resultado = "Erro";
                        }
                        break;
                }
                visor.value = resultado;
                atual = parseFloat(resultado); 
                op1 = undefined;
                operacao = undefined;
                temPonto = false; 
            }
        }
        </script>
    </head>
    <body>
        <input type="text" id="visor" value="0" readonly>
        <div id="botoes">
            <input type="button" value="9" id="botaoNove">
            <input type="button" value="8" id="botaoOito">
            <input type="button" value="7" id="botaoSete">
            <input type="button" value="6" id="botaoSeis">
            <input type="button" value="5" id="botaoCinco">
            <input type="button" value="4" id="botaoQuatro">
            <input type="button" value="3" id="botaoTres">
            <input type="button" value="2" id="botaoDois">
            <input type="button" value="1" id="botaoUm">
            <input type="button" value="0" id="botaoZero">
            <input type="button" value="." id="botaoPonto">
            <br>
            <input type="button" value="=" id="botaoIgual">
            <input type="button" value="+" id="botaoSoma">
            <input type="button" value="-" id="botaoSub">
            <input type="button" value="x" id="botaoMult">
            <input type="button" value="/" id="botaoDiv">
        </div>
    </body>
</html>